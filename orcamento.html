<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Link fontawesome -->
    <script src="https://kit.fontawesome.com/d132031da6.js" crossorigin= "anonymous"></script>
    <!-- Link CSS -->
    <link rel="stylesheet" type="text/css" href="css.css">    
    <title>Portfolio Camila Gomes</title>
  </head>
  <body style="background-color: #f2f8fb;">
    <!-- Menu de Navegação -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" aria-current="page" href="index.html">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="orcamento.html">Orçamento</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="portfolio.html">Portfolio</a>
            </li>
            <li class="nav-item dropdown">
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a class="dropdown-item" href="discografia.html" target="_blank">Portfolio</a></li>
              </ul>
              <li class="nav-item">
              <a class="nav-link" href="noticias.html">Notícias</a>
            </li>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="contactos.html" target="_blank" tabindex="-1">Contactos</a>
            </li>
          </ul>
          <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-secondary" type="submit"><a href="" title="Busca"><i class="fas fa-search" style="color: white;"></i></a></button>
          </form>
        </div>
      </div>
    </nav>
    <!-- Div Orçamento -->
    <div class="central">
        <h1 class="fontecustom">Faça o seu orçamento</h1><br>
        <form action="" method="POST" onchange="" name="formulario">
            <tr>
                <td>Tipo de página web:</td>
                <td>
                    <select name="tipopagina" id="tipopagina" required onchange="atualizarValorTipopagina()">
                        <option value="0"></option>
                        <option value="500" id="tipo1">Blog</option>
                        <option value="1000" id="tipo2">E-commerce</option>
                        <option value="1500" id="tipo3">Hotsite</option>
                        <option value="2500" id="tipo4">Institucional</option>    
                        <option value="1800" id="tipo5">Landing Page</option>    
                        <option value="2000" id="tipo6">Portfólio</option>    
                        <option value="800" id="tipo7">Site One Page</option>
                    </select>
                </td>
                <td>
                    <input type="text" id="valor-tipopagina" name="valor-tipopagina" readonly>
                </td>
            </tr>
        </form><br>
        <p>Marque as páginas que deseja adicionar ao seu website</p>
        <form id="checkboxGroup">
            <input type="checkbox" name="checkbox1" value="400">Quem somos
            <input type="checkbox" name="checkbox2" value="400">Onde estamos
            <input type="checkbox" name="checkbox3" value="400">Galeria de fotos
            <input type="checkbox" name="checkbox4" value="400">E-commerce
            <input type="checkbox" name="checkbox5" value="400">Gestão interna
            <input type="checkbox" name="checkbox6" value="400">Notícias
            <input type="checkbox" name="checkbox7" value="400">Redes Sociais        
        </form><br>
        <tr>            
            <td>Prazo em meses:</td>
            <td>
                <input type="number" id="prazo">        
            </td>
        </tr><br>        
        <tr><br>           
            <td>Tipo, prazo e número de páginas selecionadas:</td>
        </tr>        
        <button type="button" class="btn btn-secondary" onclick="calcularOrcamento()">Calcular Orçamento</button><br>
        <p id="resultado"></p>       
    </div>
    <script type="text/javascript">
        function atualizarValorTipopagina() {
            // Obtém a referência ao elemento select de tipo de página
            var select = document.getElementById("tipopagina");

            // Obtém a referência ao elemento input para mostrar o valor selecionado
            var input = document.getElementById("valor-tipopagina");
            
            // Obtém o valor selecionado na lista de opções
            var valorSelecionado = select.options[select.selectedIndex].value;

            // Define o valor no campo de entrada
            input.value = valorSelecionado;
        }

        function calcularOrcamento(){

            // Inicializa variáveis para o cálculo do orçamento
            let orcamentoTotal = 0;
            let precoTipopagina = 0;
            precoTipopagina = +document.getElementById('tipopagina').value;

            // Obtém a referência ao formulário com os checkboxes
            const form = document.getElementById("checkboxGroup");
            let contar = 0; // Contador de checkboxes marcados
            let somaPaginas = 0; // Soma dos valores das páginas marcadas
            for (let i = 0; i < form.elements.length; i++){
                const element = form.elements[i];
                if (element.type === "checkbox" && element.checked){
                    contar++; // Incrementa o contador para cada checkbox marcado
                    somaPaginas += parseInt(element.value); // Soma o valor do checkbox ao total
                }
            }

            // Obtém o valor do prazo em meses
            const prazo = +document.getElementById("prazo").value;
            let desconto = 1;

            // Aplica desconto com base no prazo selecionado
            switch (prazo) {
                case 1: 
                    desconto *= 0.95;
                    break;
                case 2:
                    desconto *= 0.9;
                    break;
                case 3:
                    desconto *= 0.85;
                    break;
                default: 
                    desconto *= 0.8;
                    break;
            }

            // Calcula o orçamento total considerando o desconto
            const result = document.getElementById("resultado");
            orcamentoTotal = (precoTipopagina + somaPaginas) * desconto;
            // Exibe o resultado no elemento com id "resultado"
            result.innerHTML = `Número de páginas selecionadas: ${contar}. Valor da soma a adicionar ao orçamento: ${orcamentoTotal} euros.`;
        }  
    </script><br><br><br><br><br><br><br><br>
    <!-- Footer -->
    <footer class="bg-dark text-center text-white">
      <!-- Grid container -->
      <div class="container p-4 pb-0">
      <!-- Section: Social media -->
      <section class="mb-4">
      <!-- Facebook -->
      <a class="btn btn-outline-light btn-floating m-1" href="https://www.facebook.com/" role="button"><i class="fab fa-facebook-f"></i></a>
      <!-- Twitter -->
      <a class="btn btn-outline-light btn-floating m-1" href="https://twitter.com/" role="button"><i class="fab fa-twitter"></i></a>
      <!-- Google -->
      <a class="btn btn-outline-light btn-floating m-1" href="https://www.google.com/" role="button"><i class="fab fa-google"></i></a>
      <!-- Instagram -->
      <a class="btn btn-outline-light btn-floating m-1" href="https://www.instagram.com/" role="button"><i class="fab fa-instagram"></i></a>
      <!-- Linkedin -->
      <a class="btn btn-outline-light btn-floating m-1" href="https://www.linkedin.com/" role="button"><i class="fab fa-linkedin-in"></i></a>
      <!-- Github -->
      <a class="btn btn-outline-light btn-floating m-1" href="https://github.com/" role="button"><i class="fab fa-github"></i></a>
      </section>
      <!-- Section: Social media -->
      </div>        
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
      © 2024 Copyright: Camila Gomes
      <a class="text-white" href="https://mdbootstrap.com/"></a>
      </div>    
    </footer>
  </body>
</html>